<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.34" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Face Detect :: GoCV - Golang Computer Vision Using OpenCV 3</title>
    
    
    <link href="/css/nucleus.css?1516696212" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1516696212" rel="stylesheet">
    <link href="/css/hybrid.css?1516696212" rel="stylesheet">
    <link href="/css/featherlight.min.css?1516696212" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1516696212" rel="stylesheet">
    <link href="/css/auto-complete.css?1516696212" rel="stylesheet">
    <link href="/css/theme.css?1516696212" rel="stylesheet">
    <link href="/css/hugo-theme.css?1516696212" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1516696212"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/writing-code/face-detect/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <html>
<a href="http://gocv.io"><img src="https://raw.githubusercontent.com/hybridgroup/gocv/master/images/gocvlogo.jpg">
<h2 style="color:white; margin:0;">GoCV</h2>
<h4 style="color:white; margin:0;">Computer Vision using Go and OpenCV 3</h4></a>
</html>
    </div>
    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/computer-vision/" title="Computer Vision" class="dd-item 
        
        
        
        ">
      <a href="/computer-vision/">
          Computer Vision
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/getting-started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting-started/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/getting-started/linux/" title="Linux" class="dd-item ">
        <a href="/getting-started/linux/">
        Linux
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/osx/" title="OS X" class="dd-item ">
        <a href="/getting-started/osx/">
        OS X
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/windows/" title="Windows" class="dd-item ">
        <a href="/getting-started/windows/">
        Windows
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/writing-code/" title="Writing Code" class="dd-item 
        parent
        
        
        ">
      <a href="/writing-code/">
          Writing Code
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/writing-code/hello-video/" title="Hello Video" class="dd-item ">
        <a href="/writing-code/hello-video/">
        Hello Video
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/writing-code/face-detect/" title="Face Detect" class="dd-item active">
        <a href="/writing-code/face-detect/">
        Face Detect
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/writing-code/more-examples/" title="More Examples" class="dd-item ">
        <a href="/writing-code/more-examples/">
        More Examples
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/blog/" title="Blog" class="dd-item 
        
        
        
        ">
      <a href="/blog/">
          Blog
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/blog/2018-01-23-go-opencv-tensorflow-caffe/" title="Go, OpenCV, Caffe, and Tensorflow: Putting It All Together With GoCV" class="dd-item ">
        <a href="/blog/2018-01-23-go-opencv-tensorflow-caffe/">
        Go, OpenCV, Caffe, and Tensorflow: Putting It All Together With GoCV
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/blog/2017-12-14-putting-eyes-on-the-iot-video/" title="Putting Eyes on the IoT - The Video" class="dd-item ">
        <a href="/blog/2017-12-14-putting-eyes-on-the-iot-video/">
        Putting Eyes on the IoT - The Video
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/blog/2017-12-14-gocv-the-blog/" title="Introducing the GoCV Blog" class="dd-item ">
        <a href="/blog/2017-12-14-gocv-the-blog/">
        Introducing the GoCV Blog
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li class="" role=""> 
                  <a class="padding" href="https://github.com/hybridgroup/gocv"><i class='fa fa-github'></i> Github repo</a>
              </li>
          
              <li class="" role=""> 
                  <a class="padding" href="https://godoc.org/gocv.io/x/gocv"><i class='fa fa-book'></i> Godoc</a>
              </li>
          
              <li class="" role=""> 
                  <a class="padding" href="https://twitter.com/GoCVio"><i class='fa fa-twitter'></i> Twitter</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <center>
    Like what you see? Give GoCV a star!

    
    <a class="github-button" href="https://github.com/hybridgroup/gocv" data-icon="octicon-star" data-show-count="true" aria-label="Star GoCV on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/hybridgroup/gocv/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork GoCV on GitHub">Fork</a>

    <p>GoCV created by <a href="https://hybridgroup.com">The Hybrid Group</a></p>
    <p></p>
    <p>Site built with <a href="http://gohugo.io/">Hugo</a></p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable sticky-parent">
              
              <div class="sticky-spacer">
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" href="https://github.com/hybridgroup/gocv-site/edit/master/content/writing-code/face-detect.md" target="blank">
                      <i class="fa fa-code-fork"></i>
                      Edit this page
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Home</a> > <a href='/writing-code/'>Writing Code</a> > Face Detect
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Face Detect</h1>
          

        


<p><img src="https://raw.githubusercontent.com/hybridgroup/gocv/master/images/face-detect.jpg" alt="GoCV" /></p>

<p>This is a more complete example that opens a video capture device using device &ldquo;0&rdquo;. It also uses the CascadeClassifier class to load an external data file containing the classifier data. The program grabs each frame from the video, then uses the classifier to detect faces. If any faces are found, it draws a green rectangle around each one, then displays the video in an output window:</p>

<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;image/color&quot;

	&quot;gocv.io/x/gocv&quot;
)

func main() {
	deviceID := 0

	// open webcam
	webcam, err := gocv.VideoCaptureDevice(int(deviceID))
	if err != nil {
		fmt.Printf(&quot;error opening video capture device: %v\n&quot;, deviceID)
		return
	}	
	defer webcam.Close()

	// open display window
	window := gocv.NewWindow(&quot;Face Detect&quot;)
	defer window.Close()

	// prepare image matrix
	img := gocv.NewMat()
	defer img.Close()

	// color for the rect when faces detected
	blue := color.RGBA{0, 0, 255, 0}

	// load classifier to recognize faces
	classifier := gocv.NewCascadeClassifier()
	defer classifier.Close()
	
	classifier.Load(&quot;data/haarcascade_frontalface_default.xml&quot;)

	fmt.Printf(&quot;start reading camera device: %v\n&quot;, deviceID)
	for {
		if ok := webcam.Read(img); !ok {
			fmt.Printf(&quot;cannot read device %d\n&quot;, deviceID)
			return
		}
		if img.Empty() {
			continue
		}

		// detect faces
		rects := classifier.DetectMultiScale(img)
		fmt.Printf(&quot;found %d faces\n&quot;, len(rects))

		// draw a rectangle around each face on the original image
		for _, r := range rects {
			gocv.Rectangle(img, r, blue, 3)
		}

		// show the image in the window, and wait 1 millisecond
		window.IMShow(img)
		window.WaitKey(1)
	}
}
</code></pre>


<footer class=" footline" >
	
</footer>


        
        </div> 
      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/writing-code/hello-video/" title="Hello Video"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/writing-code/more-examples/" title="More Examples" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1516696212"></script>
    <script src="/js/perfect-scrollbar.min.js?1516696212"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1516696212"></script>
    <script src="/js/jquery.sticky-kit.min.js?1516696212"></script>
    <script src="/js/featherlight.min.js?1516696212"></script>
    <script src="/js/html5shiv-printshiv.min.js?1516696212"></script>
    <script src="/js/highlight.pack.js?1516696212"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1516696212"></script>
    <script src="/js/learn.js?1516696212"></script>
    <script src="/js/hugo-learn.js?1516696212"></script>

    <link href="/mermaid/mermaid.css?1516696212" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1516696212"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

